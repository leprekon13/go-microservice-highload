Проект представляет собой микросервис на языке Go, разработанный для демонстрации работы высоконагруженных систем. В сервисе реализованы механизмы асинхронного выполнения задач, ограничение частоты запросов и мониторинг.
1. Управление пользователями: реализация REST API для выполнения CRUD операций.
2. Валидация: проверка корректности входных данных (имя, формат email) перед обработкой.
3. Асинхронность: использование пула воркеров для выполнения фоновых задач без блокировки основных запросов.
4. Контроль нагрузки: применение Rate Limiting для предотвращения деградации системы при избыточном трафике.
5. Интеграция с S3: поддержка работы с объектными хранилищами (например, MinIO) для выгрузки данных.
6. Мониторинг: сбор и отдача метрик в формате Prometheus.
- main.go: точка входа, инициализация компонентов и запуск HTTP-сервера.
- handlers/: логика обработки HTTP-запросов.
- services/: компоненты бизнес-логики и интеграция с S3.
- models/: описание сущностей и логика валидации данных.
- utils/: инструменты для асинхронной обработки и лимитирования запросов.
- metrics/: настройка сбора показателей работы сервиса.
- k8s/: манифесты для развертывания системы в Kubernetes.
Настройка сервиса осуществляется через переменные окружения:
- PORT: сетевой порт (8080 по умолчанию).
- S3_ENDPOINT: адрес сервера S3 (localhost:9000).
- S3_ACCESS_KEY / S3_SECRET_KEY: учетные данные S3.
- S3_BUCKET: наименование бакета для хранения данных.
Сборка и запуск через Docker Compose:
bash docker-compose up --build
Запуск из исходного кода:
bash go run main.go

## Список API эндпоинтов

- GET /api/users — список пользователей.
- POST /api/users — создание пользователя (асинхронно).
- PUT /api/users/{id} — обновление данных пользователя.
- DELETE /api/users/{id} — удаление пользователя.
- POST /api/integration/export — запуск процедуры экспорта в S3.
- GET /metrics — технические метрики сервиса.
